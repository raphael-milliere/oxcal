/* Brutalist theme system - High contrast light and dark modes */

/* Light Theme (Default) */
:root {
  --theme-name: 'light';
}

/* Dark Theme - Inverted brutalist */
[data-theme="dark"] {
  --theme-name: 'dark';
  
  /* Inverted colors for maximum contrast */
  --color-primary: #ffffff;
  --color-primary-hover: #cccccc;
  --color-accent: #ff0000;
  
  /* Dark term colors */
  --color-michaelmas: #ff6666;
  --color-hilary: #6666ff;
  --color-trinity: #66ff66;
  
  /* Dark neutrals */
  --color-background: #000000;
  --color-surface: #111111;
  --color-border: #ffffff;
  --color-text: #ffffff;
  --color-text-muted: #999999;
}

/* Dark theme specific overrides */
[data-theme="dark"] .app-header {
  background-color: var(--color-background);
  border-bottom-color: var(--color-border);
}

[data-theme="dark"] .app-footer {
  background-color: var(--color-background);
  border-top-color: var(--color-border);
}

[data-theme="dark"] .theme-toggle {
  border-color: var(--color-border);
  color: var(--color-text);
}

[data-theme="dark"] .theme-toggle:hover {
  background: var(--color-primary);
  color: var(--color-background);
}

[data-theme="dark"] .calendar-day-header {
  background-color: var(--color-surface);
  border-color: var(--color-border);
}

[data-theme="dark"] .calendar-day.today {
  background-color: var(--color-primary);
  color: var(--color-background);
}

[data-theme="dark"] .calendar-day.today .day-number {
  color: var(--color-background);
}

[data-theme="dark"] .calendar-day.today .term-week-badge {
  background: var(--color-background);
  color: var(--color-primary);
}

[data-theme="dark"] .search-button {
  background-color: var(--color-surface);
  border-color: var(--color-border);
  color: var(--color-text);
}

[data-theme="dark"] .search-button:hover {
  background-color: var(--color-primary);
  color: var(--color-background);
}

[data-theme="dark"] .nav-button:hover {
  background-color: var(--color-primary);
  color: var(--color-background);
}

[data-theme="dark"] th {
  background: var(--color-surface);
  color: var(--color-text);
}

[data-theme="dark"] .loading-overlay {
  background-color: var(--color-background);
}

[data-theme="dark"] .loading-spinner {
  border-color: var(--color-border);
  color: var(--color-text);
}

[data-theme="dark"] .result-error {
  background-color: #330000;
}

[data-theme="dark"] .pwa-install-prompt {
  background: var(--color-surface);
  color: var(--color-text);
  border-top-color: var(--color-accent);
}

[data-theme="dark"] .pwa-install-button {
  background: var(--color-primary);
  color: var(--color-background);
  border-color: var(--color-primary);
}

[data-theme="dark"] .pwa-install-button:hover {
  background: transparent;
  color: var(--color-primary);
}

[data-theme="dark"] .suggestion-item:hover,
[data-theme="dark"] .suggestion-item.selected {
  background: var(--color-surface);
  color: var(--color-text);
}

/* Focus styles for dark theme */
[data-theme="dark"] a:focus,
[data-theme="dark"] button:focus,
[data-theme="dark"] .calendar-day:focus {
  outline-color: var(--color-primary);
}

/* Input styles for dark theme */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background-color: var(--color-background);
  border-color: var(--color-border);
  color: var(--color-text);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] textarea:focus,
[data-theme="dark"] select:focus {
  border-color: var(--color-primary);
}

/* Skip link dark theme */
[data-theme="dark"] .skip-link {
  background: var(--color-primary);
  color: var(--color-background);
  border-color: var(--color-primary);
}

[data-theme="dark"] .skip-link:focus {
  outline-color: var(--color-primary);
}

/* High contrast mode */
@media (prefers-contrast: high) {
  :root {
    --color-border: #000000;
    --color-text: #000000;
    --color-text-muted: #404040;
  }
  
  [data-theme="dark"] {
    --color-border: #ffffff;
    --color-text: #ffffff;
    --color-text-muted: #c0c0c0;
  }
  
  .calendar-day {
    border: 1px solid var(--color-border);
  }
  
  .term-week-badge {
    border: 1px solid currentColor;
  }
}

/* Focus visible for keyboard navigation */
:focus-visible {
  outline: var(--border-width-thick) solid var(--color-primary);
  outline-offset: 2px;
}

/* Remove focus for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Print mode overrides - Always use light theme */
@media print {
  :root,
  [data-theme="dark"] {
    --color-primary: #000000;
    --color-background: #ffffff;
    --color-surface: #f0f0f0;
    --color-border: #000000;
    --color-text: #000000;
    --color-text-muted: #666666;
  }
  
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  .calendar-day {
    border: 1px solid var(--color-border);
  }
}